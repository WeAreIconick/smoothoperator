// Enable smooth scrolling for the page when autoscroll is active
html {
	scroll-behavior: smooth;
}

// Content animation styles - applied when autoscroll is active
body.autoscroll-active {
	// CSS variable for animation duration
	--autoscroll-animation-duration: 0.6s;

	// Fade + Slide Up Animation
	.autoscroll-animate-fade-up {
		opacity: 0;
		transform: translateY(30px);
		transition: opacity var(--autoscroll-animation-duration) cubic-bezier(0.4, 0, 0.2, 1),
		            transform var(--autoscroll-animation-duration) cubic-bezier(0.4, 0, 0.2, 1);
		
		&.is-visible {
			opacity: 1;
			transform: translateY(0);
		}
	}

	// Scale Up Animation
	.autoscroll-animate-scale {
		opacity: 0;
		transform: scale(0.8);
		transition: opacity var(--autoscroll-animation-duration) cubic-bezier(0.4, 0, 0.2, 1),
		            transform var(--autoscroll-animation-duration) cubic-bezier(0.4, 0, 0.2, 1);
		
		&.is-visible {
			opacity: 1;
			transform: scale(1);
		}
	}

	// Slide In Left
	.autoscroll-animate-slide-left {
		opacity: 0;
		transform: translateX(-50px);
		transition: opacity var(--autoscroll-animation-duration) cubic-bezier(0.4, 0, 0.2, 1),
		            transform var(--autoscroll-animation-duration) cubic-bezier(0.4, 0, 0.2, 1);
		
		&.is-visible {
			opacity: 1;
			transform: translateX(0);
		}
	}

	// Slide In Right
	.autoscroll-animate-slide-right {
		opacity: 0;
		transform: translateX(50px);
		transition: opacity var(--autoscroll-animation-duration) cubic-bezier(0.4, 0, 0.2, 1),
		            transform var(--autoscroll-animation-duration) cubic-bezier(0.4, 0, 0.2, 1);
		
		&.is-visible {
			opacity: 1;
			transform: translateX(0);
		}
	}

	// Blur to Focus
	.autoscroll-animate-blur {
		opacity: 0;
		filter: blur(10px);
		transform: scale(1.05);
		transition: opacity var(--autoscroll-animation-duration) ease-out,
		            filter var(--autoscroll-animation-duration) ease-out,
		            transform var(--autoscroll-animation-duration) ease-out;
		
		&.is-visible {
			opacity: 1;
			filter: blur(0);
			transform: scale(1);
		}
	}

	// Rotate + Fade
	.autoscroll-animate-rotate {
		opacity: 0;
		transform: rotate(-5deg) scale(0.9);
		transition: opacity var(--autoscroll-animation-duration) cubic-bezier(0.4, 0, 0.2, 1),
		            transform var(--autoscroll-animation-duration) cubic-bezier(0.4, 0, 0.2, 1);
		
		&.is-visible {
			opacity: 1;
			transform: rotate(0deg) scale(1);
		}
	}

	// Staggered animation (for child elements)
	.autoscroll-animate-stagger {
		> * {
			opacity: 0;
			transform: translateY(20px);
			transition: opacity calc(var(--autoscroll-animation-duration) * 0.8) cubic-bezier(0.4, 0, 0.2, 1),
			            transform calc(var(--autoscroll-animation-duration) * 0.8) cubic-bezier(0.4, 0, 0.2, 1);
		}
		
		&.is-visible {
			> * {
				opacity: 1;
				transform: translateY(0);
			}
			
			> *:nth-child(1) { transition-delay: calc(var(--autoscroll-animation-duration) * 0.15); }
			> *:nth-child(2) { transition-delay: calc(var(--autoscroll-animation-duration) * 0.3); }
			> *:nth-child(3) { transition-delay: calc(var(--autoscroll-animation-duration) * 0.45); }
			> *:nth-child(4) { transition-delay: calc(var(--autoscroll-animation-duration) * 0.6); }
			> *:nth-child(5) { transition-delay: calc(var(--autoscroll-animation-duration) * 0.75); }
			> *:nth-child(n+6) { transition-delay: calc(var(--autoscroll-animation-duration) * 0.9); }
		}
	}
}

.autoscroll-block {
	position: fixed;
	bottom: 20px;
	right: 20px;
	z-index: 9999;
	display: flex;
	align-items: center;
	justify-content: center;
}

.autoscroll-block-control {
	background: #2271b1;
	color: #fff;
	border: none;
	border-radius: 50%;
	width: 56px;
	height: 56px;
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: center;
	padding: 0;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	outline: none;
	position: relative;

	&:hover {
		background: #135e96;
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
		transform: scale(1.05);
	}

	&:active {
		transform: scale(0.95);
	}

	&:focus {
		outline: 2px solid #2271b1;
		outline-offset: 2px;
	}

	&.is-playing {
		background: #d63638;
		animation: pulse 2s ease-in-out infinite;

		&:hover {
			background: #b32d2e;
		}
	}

	&.is-scrolling {
		animation: scrollPulse 0.6s ease-in-out;
		transform: scale(1.1);
	}

	svg {
		width: 24px;
		height: 24px;
		fill: currentColor;
		transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	}

	&.is-playing svg {
		animation: iconBounce 1.5s ease-in-out infinite;
	}
}

@keyframes pulse {
	0%, 100% {
		box-shadow: 0 2px 8px rgba(214, 54, 56, 0.4);
	}
	50% {
		box-shadow: 0 2px 20px rgba(214, 54, 56, 0.6), 0 0 0 8px rgba(214, 54, 56, 0.1);
	}
}

@keyframes scrollPulse {
	0%, 100% {
		transform: scale(1);
	}
	50% {
		transform: scale(1.15);
	}
}

@keyframes iconBounce {
	0%, 100% {
		transform: translateY(0);
	}
	50% {
		transform: translateY(-2px);
	}
}

// Visual Effects Styles

// Parallax scrolling
body.autoscroll-parallax {
	.autoscroll-parallax-layer {
		will-change: transform;
		transition: transform 0.1s ease-out;
	}
}

// Particle effects container
.autoscroll-particles-container {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	pointer-events: none;
	z-index: 100;
	overflow: hidden;
}

// Ensure admin bar stays on top and is not affected by particles
#wpadminbar {
	position: fixed !important;
	z-index: 99999 !important;
}

.autoscroll-particle {
	position: absolute;
	pointer-events: none;
	border-radius: 50%;
	opacity: 0;
	will-change: transform, opacity, box-shadow;
	filter: blur(0.5px);
}

@keyframes particleFloat {
	0% {
		transform: translateY(0) translateX(0);
		opacity: 0;
	}
	5% {
		opacity: 1;
	}
	95% {
		opacity: 1;
	}
	100% {
		transform: translateY(-100vh) translateX(var(--particle-x-offset, 0px));
		opacity: 0;
	}
}

// Gradient shift background
body.autoscroll-gradient-shift {
	background: linear-gradient(180deg, var(--gradient-color-1, #667eea) 0%, var(--gradient-color-2, #764ba2) 100%);
	background-attachment: fixed;
	transition: background 0.3s ease-out;
	min-height: 100vh;
}

// Blur transitions
body.autoscroll-blur-transitions {
	.autoscroll-blur-element {
		transition: filter 0.5s ease-out;
	}
}

// Scale effects
body.autoscroll-scale-effects {
	.autoscroll-scale-element {
		transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
		transform-origin: center center;
	}
}

// Glitch effects
@keyframes glitch {
	0% {
		transform: translate(0);
		filter: hue-rotate(0deg);
	}
	20% {
		transform: translate(-2px, 2px);
		filter: hue-rotate(90deg);
	}
	40% {
		transform: translate(-2px, -2px);
		filter: hue-rotate(180deg);
	}
	60% {
		transform: translate(2px, 2px);
		filter: hue-rotate(270deg);
	}
	80% {
		transform: translate(2px, -2px);
		filter: hue-rotate(360deg);
	}
	100% {
		transform: translate(0);
		filter: hue-rotate(0deg);
	}
}

body.autoscroll-glitch {
	&.glitch-active {
		animation: glitch 0.3s;
	}
}

// Scroll progress bar
.autoscroll-progress-bar {
	position: fixed;
	top: 0;
	left: 0;
	height: 4px;
	background: linear-gradient(90deg, #667eea, #764ba2, #f093fb, #4facfe);
	z-index: 99999;
	transition: width 0.1s ease-out;
	box-shadow: 0 2px 10px rgba(102, 126, 234, 0.5);
}

// Ripple effects
.autoscroll-ripple {
	position: fixed;
	width: 20px;
	height: 20px;
	border-radius: 50%;
	background: rgba(102, 126, 234, 0.6);
	transform: translate(-50%, -50%);
	pointer-events: none;
	z-index: 100;
	animation: rippleExpand 2s ease-out forwards;
}

@keyframes rippleExpand {
	0% {
		transform: translate(-50%, -50%) scale(0);
		opacity: 1;
	}
	100% {
		transform: translate(-50%, -50%) scale(30);
		opacity: 0;
	}
}

// Light rays
.autoscroll-light-rays {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	pointer-events: none;
	z-index: 1;
	overflow: hidden;
}

.autoscroll-light-ray {
	position: absolute;
	width: 2px;
	height: 100%;
	background: linear-gradient(180deg, 
		rgba(255, 255, 255, 0) 0%,
		rgba(255, 255, 255, 0.3) 20%,
		rgba(255, 255, 255, 0.1) 50%,
		rgba(255, 255, 255, 0.3) 80%,
		rgba(255, 255, 255, 0) 100%
	);
	box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
	animation: rayMove var(--ray-duration, 7s) var(--ray-delay, 0s) infinite ease-in-out;
	opacity: 0.6;
}

@keyframes rayMove {
	0%, 100% {
		transform: translateX(-100px) rotate(15deg);
		opacity: 0;
	}
	10% {
		opacity: 0.6;
	}
	50% {
		transform: translateX(calc(100vw + 100px)) rotate(-15deg);
		opacity: 0.8;
	}
	90% {
		opacity: 0.6;
	}
	100% {
		transform: translateX(calc(100vw + 200px)) rotate(15deg);
		opacity: 0;
	}
}

// Animated background patterns
body.autoscroll-animated-bg {
	position: relative;
	
	&::before {
		content: '';
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: 
			radial-gradient(circle at 20% 50%, rgba(102, 126, 234, 0.1) 0%, transparent 50%),
			radial-gradient(circle at 80% 80%, rgba(118, 75, 162, 0.1) 0%, transparent 50%),
			radial-gradient(circle at 40% 20%, rgba(240, 147, 251, 0.1) 0%, transparent 50%);
		background-size: 200% 200%;
		animation: bgPatternMove 20s ease-in-out infinite;
		pointer-events: none;
		z-index: 0;
	}
	
	&::after {
		content: '';
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background-image: 
			linear-gradient(45deg, transparent 40%, rgba(255, 255, 255, 0.02) 50%, transparent 60%),
			linear-gradient(-45deg, transparent 40%, rgba(255, 255, 255, 0.02) 50%, transparent 60%);
		background-size: 100px 100px;
		animation: bgPatternShift 15s linear infinite;
		pointer-events: none;
		z-index: 0;
	}
}

@keyframes bgPatternMove {
	0%, 100% {
		background-position: 0% 0%, 100% 100%, 50% 50%;
	}
	50% {
		background-position: 100% 50%, 0% 0%, 0% 100%;
	}
}

@keyframes bgPatternShift {
	0% {
		background-position: 0 0, 0 0;
	}
	100% {
		background-position: 100px 100px, -100px -100px;
	}
}

// Particle trails
.autoscroll-particle-trail {
	&::before {
		content: '';
		position: absolute;
		top: 50%;
		left: 50%;
		width: 100%;
		height: 100%;
		background: inherit;
		border-radius: 50%;
		transform: translate(-50%, -50%);
		opacity: 0.3;
		animation: particleTrail 1s ease-out infinite;
	}
}

@keyframes particleTrail {
	0% {
		transform: translate(-50%, -50%) scale(1);
		opacity: 0.5;
	}
	100% {
		transform: translate(-50%, -50%) scale(3);
		opacity: 0;
	}
}

// Responsive adjustments
@media (max-width: 782px) {
	.autoscroll-block {
		bottom: 15px;
		right: 15px;
	}

	.autoscroll-block-control {
		width: 48px;
		height: 48px;

		svg {
			width: 20px;
			height: 20px;
		}
	}
}

